# =================================================================
# COLLEGE SERVICE BOOTSTRAP CONFIGURATION
# This file configures the College Service to get settings from Config Server
# Following the same pattern as Service Registry
# =================================================================

# =================================================================
# APPLICATION IDENTITY
# =================================================================
# What: The name of this application for Config Server identification
# Why: Config Server uses this name to find college-service.properties file
spring.application.name=college-service

# --- Server Port ---
# What: The port this College Service runs on
# Why: 8081 is assigned to College Service in the microservices architecture
server.port=8081

# --- Database Connection
# What: PostgreSQL connection details for local development
# Why: Allows service to start even without Config Server
spring.datasource.url=jdbc:postgresql://localhost:5432/collegedb
spring.datasource.username=postgres
spring.datasource.password=admin
spring.datasource.driver-class-name=org.postgresql.Driver

# --- JPA Configuration
# What: JPA and Hibernate settings for database operations
# Why: Ensures proper database interaction and entity mapping
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# --- Flyway Migration
# What: Database migration settings for schema version control
# Why: Ensures database schema is properly created and updated
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true
spring.flyway.validate-on-migrate=true

# =================================================================
# EUREKA CLIENT BASIC SETTINGS
# =================================================================
# What: Service discovery settings for Eureka registration
# Why: Allows other services to discover and communicate with College Service

# --- Service Registration ---
# What: Should this service register with Eureka Server?
# Why: Yes, so other services (Department, Student) can discover it
eureka.client.register-with-eureka=true

# What: Should this service fetch registry information from Eureka?
# Why: Yes, for future service-to-service communication capabilities
eureka.client.fetch-registry=true

# What: The URL where this service can find the Eureka Server
# Why: All microservices need to know where Service Registry is located
eureka.client.service-url.defaultZone=http://eureka-admin:eureka123@localhost:8761/eureka/
eureka.instance.instance-id=${spring.application.name}:${server.port}
eureka.instance.prefer-ip-address=true
eureka.instance.lease-renewal-interval-in-seconds=10
eureka.instance.lease-expiration-duration-in-seconds=30

# =================================================================
# MANAGEMENT ENDPOINTS (Health Checks and Monitoring)
# =================================================================
# What: Which monitoring endpoints should be available via HTTP
# Why: Essential endpoints for health checking and system monitoring
management.endpoints.web.exposure.include=*;

# What: How much detail to show in health check responses
# Why: Detailed health information helps with debugging and monitoring
management.endpoint.health.show-details=always

# =================================================================
# LOGGING CONFIGURATION (Basic Setup)
# =================================================================
# What: Log level for our application code
# Why: Helps with debugging during development
logging.level.com.sandeep.college_service=DEBUG

# What: Log level for JPA and SQL operations
# Why: Helps monitor database operations and query performance
logging.level.org.hibernate.SQL=INFO
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=INFO

# What: Default log level for all other code
# Why: Keeps console output manageable during development
logging.level.root=INFO

# What: Format for console log messages
# Why: Clean, readable format for development
logging.pattern.console=%d{HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
