# =============================================================================
# FACULTY SERVICE - CONFIGURATION (Config Server)
# =============================================================================
#
# PURPOSE:
# This file is stored in Config Server and contains centralized configuration
# for the Faculty Service. It overrides values in application.properties.
#
# LOCATION:
# - Config Server repository: student-management-config
# - File name: faculty-service.properties
# - URL: http://localhost:8888/faculty-service/default
#
# LOADING ORDER:
# 1. application.properties (bootstrap, fallback)
# 2. faculty-service.properties (this file, overrides)
# 3. faculty-service-{profile}.properties (profile-specific, highest priority)
#
# BENEFITS:
# - Centralized configuration management
# - No need to rebuild/redeploy to change config
# - Environment-specific configurations
# - Sensitive data managed separately
#
# =============================================================================

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Server Port: Faculty Service runs on port 8086
server.port=8086

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database URL: PostgreSQL connection string
spring.datasource.url=jdbc:postgresql://localhost:5432/facultydb

# Database Username: PostgreSQL user
spring.datasource.username=postgres

# Database Password: PostgreSQL password
spring.datasource.password=admin

# Database Driver: JDBC driver for PostgreSQL
spring.datasource.driver-class-name=org.postgresql.Driver

# =============================================================================
# JPA / HIBERNATE CONFIGURATION
# =============================================================================

# DDL Auto: Flyway manages schema, not Hibernate
spring.jpa.hibernate.ddl-auto=none

# Show SQL: Log SQL statements (true for debugging, false for production)
spring.jpa.show-sql=false

# Hibernate Dialect: PostgreSQL specific SQL generation
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Format SQL: Pretty-print SQL in logs
spring.jpa.properties.hibernate.format_sql=true

# =============================================================================
# FLYWAY CONFIGURATION
# =============================================================================

# Flyway Enabled: Run migrations on startup
spring.flyway.enabled=true

# Flyway Locations: Where migration scripts are located
spring.flyway.locations=classpath:db/migration

# Baseline on Migrate: Create baseline for existing databases
spring.flyway.baseline-on-migrate=true

# Validate on Migrate: Verify schema before migrations
spring.flyway.validate-on-migrate=true

# =============================================================================
# EUREKA CONFIGURATION
# =============================================================================

# Eureka Server URL: Service discovery registry
eureka.client.service-url.defaultZone=http://eureka-admin:eureka123@localhost:8761/eureka/

# Prefer IP Address: Register with IP instead of hostname
eureka.instance.prefer-ip-address=true

# Instance ID: Unique identifier for this service instance
eureka.instance.instance-id=${spring.application.name}:${server.port}

# Lease Renewal Interval: Heartbeat frequency (seconds)
eureka.instance.lease-renewal-interval-in-seconds=10

# Lease Expiration Duration: Time before deregistration (seconds)
eureka.instance.lease-expiration-duration-in-seconds=30

# Register with Eureka: This service should register
eureka.client.register-with-eureka=true

# Fetch Registry: This service should fetch registry
eureka.client.fetch-registry=true

# =============================================================================
# FEIGN CONFIGURATION
# =============================================================================

# Feign Connect Timeout: Time to establish connection (ms)
feign.client.config.default.connect-timeout=5000

# Feign Read Timeout: Time to read response (ms)
feign.client.config.default.read-timeout=10000

# Feign Logger Level: How much to log
feign.client.config.default.logger-level=FULL

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Root Log Level: Default logging level
logging.level.root=INFO

# Faculty Service Log Level: Logging for our code
logging.level.com.sandeep.faculty_service=DEBUG

# Feign Log Level: Logging for Feign calls
logging.level.feign=DEBUG

# Hibernate SQL Log Level: SQL statement logging
logging.level.org.hibernate.SQL=INFO

# Hibernate Bind Parameters Log Level: SQL parameter logging
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=INFO

# Log Pattern: Format for console output
logging.pattern.console=%d{HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# =============================================================================
# ACTUATOR ENDPOINTS
# =============================================================================

# Exposed Endpoints: Health, info, metrics
management.endpoints.web.exposure.include=health,info,metrics

# Health Details: Show detailed health information
management.endpoint.health.show-details=always

# =============================================================================
# APPLICATION PROPERTIES
# =============================================================================

# Application Name: Used for service discovery
spring.application.name=faculty-service
